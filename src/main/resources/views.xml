<?xml version="1.0" encoding="UTF-8"?>
<beans
		xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="
			http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans-4.0.xsd">

	<bean id="default" class="org.springframework.web.servlet.view.RedirectView">
		<property name="contextRelative" value="true" />
		<property name="url" value="/" />
	</bean>

	<bean id="user-list-redirect" class="org.springframework.web.servlet.view.RedirectView">
		<property name="contextRelative" value="true" />
		<property name="url" value="/user" />
	</bean>
	
	<bean id="user-profile-redirect" class="org.springframework.web.servlet.view.RedirectView">
		<property name="contextRelative" value="true" />
		<property name="url" value="/user/profile" />
	</bean>

	<bean id="tag-list-redirect" class="org.springframework.web.servlet.view.RedirectView">
		<property name="contextRelative" value="true" />
		<property name="url" value="/tag" />
	</bean>
	
	<!-- Default view for simple pages -->
	<bean id="main-layout" class="org.randomcoder.mvc.JstlTemplateView">
		<property name="templateName" value="template" />
		<property name="url" value="/WEB-INF/jsp/layout/main.jsp" />
		<property name="templateAttributes">
			<map>
				<entry key="header" value="/WEB-INF/jsp/header/default.jsp" />
				<entry key="footer" value="/WEB-INF/jsp/footer/default.jsp" />
				<entry key="left">
					<list>
						<value>/WEB-INF/jsp/sidebar/navigation.jsp</value>
						<value>/WEB-INF/jsp/sidebar/login.jsp</value>
						<value>/WEB-INF/jsp/sidebar/welcome.jsp</value>
						<value>/WEB-INF/jsp/sidebar/feeds.jsp</value>
					</list>
				</entry>
				<entry key="right"><null /></entry>
			</map>
		</property>
	</bean>
	
	<!-- View for wide pages (no right section) -->
	<bean id="wide-layout" class="org.randomcoder.mvc.JstlTemplateView">
		<property name="parent" ref="main-layout" />
		<property name="url" value="/WEB-INF/jsp/layout/wide.jsp" />
	</bean>
	
	<bean id="article-add" class="org.randomcoder.mvc.JstlTemplateView">
		<property name="parent" ref="wide-layout" />
		<property name="templateAttributes">
			<map>
				<entry key="title" value="Add article" />
				<entry key="formMode" value="add" />
				<entry key="formAction" value="/article/add" />
				<entry key="content">
					<list>
						<value>/WEB-INF/jsp/content/article-edit.jsp</value>
					</list>
				</entry>
			</map>
		</property>
	</bean>
	
	<bean id="article-edit" class="org.randomcoder.mvc.JstlTemplateView">
		<property name="parent" ref="article-add" />
		<property name="templateAttributes">
			<map>
				<entry key="title" value="Edit article" />
				<entry key="formMode" value="edit" />
				<entry key="formAction" value="/article/edit" />
			</map>
		</property>
	</bean>
	
</beans>
